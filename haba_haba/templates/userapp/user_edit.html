{% extends 'mainapp/base.html' %}
{% load static %}

{% block title %}
    {{ title|title }} :: {{ block.super }}
{% endblock %}

{% block content %}
    <div class="single-card card border border-secondary border-opacity-25">

        <h1 class="text-center fw-bold card-title mt-3 mb-3">
           <span>Редактирование пользователя
               <span>{{ user.username }}</span>
           </span>
        </h1>

{#        <form method="POST">#}
{#            {% csrf_token %}#}
{#            {{ form.as_p }}#}
{#            <button type="submit" class="btn btn-outline-primary">Сохранить</button>#}
{#        </form>#}

    Slug не забыть!
        <div class="card-body">
            <form method="POST">
                {% csrf_token %}
                <div class="form-error">{{ form.non_field_errors }}</div>

                {% for f in form %}

                    {% if f.html_name == 'username' %}
                    <div class="row g-2">
                    {% elif f.html_name == 'first_name' or f.html_name == 'last_name' or f.html_name == 'about' %}
                    <div class="row g-2 mb-3">
                    {% endif %}

                        {% if f.html_name == 'password' %}
                        <h4 class="text-center card-title mt-5">Поменять пароль</h4>
                        {% endif %}

                        {% if f.html_name == 'first_name' or f.html_name == 'last_name' or f.html_name == 'about' %}
                        <div class="col-md">
                        {% elif f.html_name == 'gender' or f.html_name == 'age' %}
                        <div class="col-md-3">
                        {% else %}
                        <div class="col-md mb-3">
                        {% endif %}
                                <div class="form-error">{{ f.errors }}</div>
                                <div class="form-floating">
                                    {{ f }}
                                    <label for="{{ f.id_for_label }}">{{f.label}}</label>
                               </div>
                        </div>
                    {% if f.html_name == 'email' or f.html_name == 'gender' or f.html_name == 'age' or f.html_name == 'about' %}
                    </div>
                    {% endif %}
                {% endfor %}


                <div class="d-grid mt-4">
                    <button type="submit" class="btn btn-outline-primary">Сохранить</button>
                </div>
            </form>
        </div>

        <div class="card-body">
            <form>
                <div class="row g-2">
                    <div class="col-md mb-3">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="floatingInput"
                                   placeholder="name@example.com">
                            <label for="floatingInput">Псевдоним</label>
                        </div>
                    </div>

                    <div class="col-md mb-3">
                        <div class="form-floating">
                            <input type="email" class="form-control" id="floatingInput"
                                   placeholder="name@example.com" value="test@example.com" readonly>
                            <label for="floatingInput">Электронная почта</label>
                        </div>
                    </div>
                </div>

                <div class="row g-2 mb-3">
                    <div class="col-md">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="floatingInput"
                                   placeholder="name@example.com">
                            <label for="floatingInput">Имя</label>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-floating">
                            <select class="form-select" id="floatingSelectGrid">
                                <option selected>Не выбран</option>
                                <option value="1">Мужской</option>
                                <option value="2">Женский</option>
                            </select>
                            <label for="floatingSelectGrid">Ваш пол</label>
                        </div>
                    </div>
                </div>

                <div class="row g-2 mb-3">
                    <div class="col-md">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="floatingInput"
                                   placeholder="name@example.com">
                            <label for="floatingInput">Фамилия</label>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-floating">
                            <input type="number" class="form-control" id="floatingInput"
                                   placeholder="name@example.com">
                            <label for="floatingInput">Возраст</label>
                        </div>
                    </div>
                </div>

                <div class="row g-2 mb-3">
                    <div class="col-md">
                        <div class="form-floating">
                            <textarea class="form-control" placeholder="About"
                                      id="floatingTextarea" oninput="auto_grow(this)"></textarea>
                            <label for="floatingTextarea">О себе</label>
                        </div>
                    </div>
                </div>

                <h4 class="text-center card-title mt-5">Поменять пароль</h4>

                <div class="row g-2">
                    <div class="col-md-6">
                        <div class="form-floating mb-3">
                            <input type="password" class="form-control" id="floatingPassword"
                                   placeholder="Password">
                            <label for="floatingPassword">Новый пароль</label>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-floating mb-3">
                            <input type="password" class="form-control" id="floatingPassword"
                                   placeholder="Password">
                            <label for="floatingPassword">Подтвердить пароль</label>
                        </div>
                    </div>
                </div>

                <div class="d-grid mt-4">
                    <button type="button" class="btn btn-outline-primary">Сохранить</button>
                </div>

            </form>
        </div>
    </div>
{% endblock %}

{% block sidebar %}
    {% include 'userapp/includes/_sidebar.html' %}
{% endblock %}
