{% extends 'mainapp/base.html' %}
{% load static %}
{% load posttags %}

{% block title %}
    {{ title|title }} :: {{ block.super }}
{% endblock %}

{% block content %}
    <div class="col">
        <div class="single-card card border border-secondary border-opacity-25">
            <h3>
                Личный кабинет пользователя
                {% if user.first_name and user.last_name %}
                    {{ user.first_name }} {{ user.last_name }}
                {% else %}
                    {{ user.username }}
                {% endif %}
            </h3>

            {% if page_obj %}
                <h4>Статьи написанные вами</h4>
            {% else %}
                <p>К сожалению вы пока не написали ни одной статьи.</p>
            {% endif %}
            {% for post in page_obj %}
                {% post_mini post %}
            {% endfor %}

{#            {% if page_obj.paginator.num_pages > 1 %}#}
{#                <p>страница {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}</p>#}
{##}
{#                <ul class="pagination justify-content-center mt-5">#}
{#                {% if page_obj.has_previous %}#}
{#                    <li class="page-item">#}
{#                        <a class="page-link" href="{% url 'user:my_profile_view' %}?page={{ page_obj.previous_page_number }}">&laquo;</a>#}
{#                    </li>#}
{#                {% endif %}#}
{#                {% for p in page_obj.paginator.page_range %}#}
{#                    {% if p == page_obj.number %}#}
{#                    <li class="page-item active">#}
{#                    {% else %}#}
{#                    <li class="page-item">#}
{#                    {% endif %}#}
{#                        <a class="page-link" href="?page={{ p }}">{{ p }}</a>#}
{#                    </li>#}
{#                {% endfor %}#}
{#                {% if page_obj.has_next %}#}
{#                    <li class="page-item">#}
{#                        <a class="page-link" href="{% url 'user:my_profile_view' %}?page={{ page_obj.next_page_number }}">&raquo;</a>#}
{#                    </li>#}
{#                {% endif %}#}
{#                </ul>#}
{##}
{#            {% endif %}#}
            {% block pagination %}
                {% include 'mainapp/includes/_pagination.html' %}
            {% endblock %}
        </div>
    </div>
{% endblock %}

{% block sidebar %}
    <p><a href="{% url 'user:my_profile_edit' %}" class="auth">Редактировать {{ user.username }}</a></p>
    <ul class="list-group sidebar-sticky-top sticky-top">
        <a href="#"
            class="sidebar-item list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <span class="sidebar-item-title">статей</span>
            <span class="badge bg-primary">63</span>
        </a>
        <a href="#"
            class="sidebar-item list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <span class="sidebar-item-title">комментариев</span>
            <span class="badge bg-primary">325</span>
        </a>
        <a href="#"
            class="sidebar-item list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <span class="sidebar-item-title">лайков</span>
            <span class="badge bg-primary">33</span>
        </a>
    </ul>
{% endblock %}
